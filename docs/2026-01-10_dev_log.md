# 2026-01-10 Development Summary

## Tab åˆ‡æ¢åŠ¨ç”»ä¿®å¤ (Animation Fix)
*   **Goal**: ä¿®å¤ Dashboard ä¸­ "All Tasks" ä¸ "All Notes" åˆ‡æ¢æ—¶çš„å¼‚å¸¸åŠ¨ç”»æ•ˆæœã€‚
*   **Problem Analysis**:
    *   åˆ‡æ¢ tab æ—¶å‡ºç°å†…å®¹"å‘ä¸Šå¼¹"çš„è§†è§‰é—®é¢˜ã€‚
    *   **æ ¹æœ¬åŸå› **: ä½¿ç”¨ `AnimatePresence` æ¡ä»¶æ¸²æŸ“æ—¶ï¼Œåˆ‡æ¢ä¼šè§¦å‘ç»„ä»¶çš„å¸è½½/æŒ‚è½½ï¼Œå¯¼è‡´å†…éƒ¨å­ç»„ä»¶ï¼ˆ`TodoItem`ã€`NotesView` å¡ç‰‡ï¼‰çš„å…¥åœºåŠ¨ç”» `initial={{ opacity: 0, y: 12 }}` è¢«é‡æ–°è§¦å‘ã€‚
    *   æ¯ä¸ªå­å…ƒç´ ä» `y: 12` åŠ¨ç”»åˆ° `y: 0`ï¼Œæ•´ä½“äº§ç”Ÿ"å‘ä¸Šå¼¹"æ•ˆæœã€‚
    *   æ­¤å¤–ï¼Œä¹‹å‰å°è¯•åœ¨åŠ¨ç”»ä¸­åˆ‡æ¢ `position: absolute/relative`ï¼Œä½† CSS `position` å±æ€§ä¸æ”¯æŒå¹³æ»‘è¿‡æ¸¡ï¼Œä¼šå¯¼è‡´å¸ƒå±€ç¬é—´è·³å˜ã€‚
*   **Solution**:
    *   ç§»é™¤ `AnimatePresence` çš„æ¡ä»¶æ¸²æŸ“é€»è¾‘ã€‚
    *   æ”¹ç”¨**åŒè§†å›¾å¸¸é©»æŒ‚è½½** + CSS æ§åˆ¶æ˜¾éšçš„æ–¹æ¡ˆï¼š
        *   æ´»è·ƒè§†å›¾: `opacity-100`ï¼ˆæ­£å¸¸æ˜¾ç¤ºï¼‰
        *   éæ´»è·ƒè§†å›¾: `opacity-0 absolute inset-0 pointer-events-none`ï¼ˆé€æ˜ã€è„±ç¦»æ–‡æ¡£æµã€ä¸å¯ç‚¹å‡»ï¼‰
    *   ä½¿ç”¨ `transition-opacity duration-150` å®ç°å¹³æ»‘æ·¡å…¥æ·¡å‡ºã€‚
*   **Key Changes** (`Dashboard.tsx`):
    *   ä¸¤ä¸ªè§†å›¾å§‹ç»ˆä¿æŒæŒ‚è½½çŠ¶æ€ï¼Œä¸ä¼šè§¦å‘å†…éƒ¨ç»„ä»¶çš„å…¥åœºåŠ¨ç”»ã€‚
    *   åˆ‡æ¢æ—¶åªæœ‰çº¯ç²¹çš„ opacity è¿‡æ¸¡ï¼Œæ— å¸ƒå±€è·³å˜ã€‚
*   **Outcome**: åˆ‡æ¢åŠ¨ç”»æµç•…è‡ªç„¶ï¼Œæ— "å‘ä¸Šå¼¹"é—®é¢˜ã€‚

---

## å…¨å±ç¼–è¾‘å™¨ä¼˜åŒ– (Fullscreen Editor Enhancements)

### 1. å…¨å±å±…ä¸­ä¸è¿‡æ¸¡åŠ¨ç”»
*   **Problem**: å…¨å±æ¨¡å¼ä¸å±…ä¸­ï¼Œå±•å¼€/æ”¶èµ·ç¼ºä¹è¿‡æ¸¡æ„Ÿã€‚
*   **Solution** (`NoteEditor.tsx`):
    *   ä½¿ç”¨ç‹¬ç«‹çš„ backdrop å’Œ content å±‚ï¼Œåˆ†ç¦»åŠ¨ç”»æ•ˆæœ
    *   Backdrop: ç®€å•çš„ opacity æ·¡å…¥æ·¡å‡º
    *   Content: Spring åŠ¨ç”»ï¼Œä» `y: '30%', scale: 0.9` å±•å¼€åˆ° `y: 0, scale: 1`
    *   é€€å‡ºæ—¶: `y: '20%', scale: 0.95` é…åˆæ·¡å‡º
    *   Spring å‚æ•°: `stiffness: 350, damping: 30, mass: 0.8`
*   **Outcome**: å…¨å±å±•å¼€æœ‰ä»ä¸‹æ–¹å¼¹å‡ºçš„è¿‡æ¸¡æ„Ÿï¼Œå…³é—­æ—¶å¹³æ»‘æ”¶å›ã€‚

### 2. å¿«æ·é”®æç¤ºåŠŸèƒ½
*   **Goal**: åœ¨å…¨å±æ¨¡å¼ä¸‹æ˜¾ç¤ºé”®ç›˜å¿«æ·é”®æç¤ºã€‚
*   **Implementation** (`NoteEditor.tsx`):
    *   Header ä¸­æ·»åŠ é”®ç›˜å›¾æ ‡æŒ‰é’®
    *   ç‚¹å‡»å¼¹å‡ºæ¯›ç»ç’ƒé£æ ¼ popoverï¼Œæ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å¿«æ·é”®
    *   å¿«æ·é”®åˆ†ç±»ï¼šæ–‡æœ¬æ ¼å¼ã€æ®µè½ã€ç¼–è¾‘
    *   æ”¯æŒç‚¹å‡»å¤–éƒ¨å…³é—­ã€ESC é”®å…³é—­
    *   Spring åŠ¨ç”»å¼¹å‡ºæ•ˆæœ
*   **Shortcuts åˆ—è¡¨**:
    | åˆ†ç±» | å¿«æ·é”® | åŠŸèƒ½ |
    |------|--------|------|
    | æ–‡æœ¬æ ¼å¼ | `âŒ˜B` | ç²—ä½“ |
    | æ–‡æœ¬æ ¼å¼ | `âŒ˜I` | æ–œä½“ |
    | æ–‡æœ¬æ ¼å¼ | `âŒ˜U` | ä¸‹åˆ’çº¿ |
    | æ–‡æœ¬æ ¼å¼ | `âŒ˜E` | è¡Œå†…ä»£ç  |
    | æ–‡æœ¬æ ¼å¼ | `âŒ˜â‡§X` | åˆ é™¤çº¿ |
    | æ®µè½ | `âŒ˜âŒ¥1-6` | æ ‡é¢˜çº§åˆ« |
    | æ®µè½ | `âŒ˜â‡§7` | æœ‰åºåˆ—è¡¨ |
    | æ®µè½ | `âŒ˜â‡§8` | æ— åºåˆ—è¡¨ |
    | æ®µè½ | `âŒ˜â‡§9` | å¼•ç”¨å— |
    | æ®µè½ | `âŒ˜âŒ¥C` | ä»£ç å— |
    | ç¼–è¾‘ | `âŒ˜Z` | æ’¤é”€ |
    | ç¼–è¾‘ | `âŒ˜â‡§Z` | é‡åš |
    | ç¼–è¾‘ | `âŒ˜A` | å…¨é€‰ |

### 3. å·¥å…·æ ä½ç½®ä¼˜åŒ–
*   **Problem**: å…¨å±æ¨¡å¼å·¥å…·æ åœ¨åº•éƒ¨ï¼Œä¸ç¬¦åˆå¸¸è§„ç¼–è¾‘å™¨ä¹ æƒ¯ã€‚
*   **Solution** (`TiptapEditor.tsx`):
    *   æ–°å¢ `toolbarPosition` å±æ€§: `'top' | 'bottom'`
    *   æ™®é€šæ¨¡å¼: å·¥å…·æ åœ¨åº•éƒ¨ï¼ˆé»˜è®¤ï¼‰
    *   å…¨å±æ¨¡å¼: å·¥å…·æ åœ¨é¡¶éƒ¨ (`toolbarPosition="top"`)
*   **Key Changes**:
    *   æå– Toolbar ä¸ºå˜é‡ï¼Œæ ¹æ® `toolbarPosition` æ¡ä»¶æ¸²æŸ“ä½ç½®
    *   é¡¶éƒ¨å·¥å…·æ ä½¿ç”¨ `border-b`ï¼Œåº•éƒ¨ä½¿ç”¨ `border-t pb-safe`

### 4. å†…å®¹å±…ä¸­æ˜¾ç¤º
*   **Problem**: å…¨å±æ¨¡å¼å†…å®¹æ’‘æ»¡æ•´ä¸ªå®½åº¦ï¼Œé˜…è¯»ä½“éªŒå·®ã€‚
*   **Solution** (`TiptapEditor.tsx`):
    *   æ–°å¢ `centered` å±æ€§: `boolean`
    *   `centered={true}`: å†…å®¹å±…ä¸­ï¼Œé™åˆ¶æœ€å¤§å®½åº¦ (`max-w-3xl mx-auto`)
    *   `centered={false}`: å†…å®¹æ’‘æ»¡å®½åº¦ (`max-w-none`)
*   **Note**: Source æ¨¡å¼ä¿æŒå·¦å¯¹é½å…¨å®½ï¼Œæ›´é€‚åˆä»£ç ç¼–è¾‘ã€‚

### 5. ç§»åŠ¨ç«¯å·¥å…·æ æ»‘åŠ¨æç¤º
*   **Problem**: ç§»åŠ¨ç«¯å·¥å…·æ æŒ‰é’®æ˜¾ç¤ºä¸å…¨ï¼Œç”¨æˆ·ä¸çŸ¥é“å¯ä»¥æ»‘åŠ¨ã€‚
*   **Solution** (`TiptapEditor.tsx`):
    *   å³ä¾§æ·»åŠ ç™½è‰²æ¸å˜é®ç½©æç¤ºï¼ˆ`w-8`ï¼‰
    *   æ¸å˜: `linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%)`
    *   æœ«å°¾æ·»åŠ  `w-4` ç©ºç™½ï¼Œé˜²æ­¢æœ€åæŒ‰é’®è¢«é®æŒ¡
    *   åˆ†éš”çº¿æ·»åŠ  `shrink-0` é˜²æ­¢æ”¶ç¼©
*   **Outcome**: ç”¨æˆ·çœ‹åˆ°å³ä¾§æ¸å˜å³çŸ¥å¯å·¦æ»‘æŸ¥çœ‹æ›´å¤šæŒ‰é’®ã€‚

---

## æ–‡ä»¶å˜æ›´æ±‡æ€»

| æ–‡ä»¶ | å˜æ›´å†…å®¹ |
|------|----------|
| `NoteEditor.tsx` | å…¨å±åŠ¨ç”»ã€å¿«æ·é”®æç¤ºã€è°ƒç”¨ TiptapEditor æ–°å±æ€§ |
| `TiptapEditor.tsx` | `toolbarPosition`ã€`centered` å±æ€§ã€æ»‘åŠ¨æ¸å˜æç¤º |

---

## Settings åŠŸèƒ½å®ç° (Settings Feature)

### 1. åç«¯ API æ–°å¢
*   **å¯†ç ä¿®æ”¹ API** (`PUT /users/me/password`):
    *   æ¥æ”¶ `current_password` å’Œ `new_password`
    *   éªŒè¯å½“å‰å¯†ç åæ›´æ–°
*   **æ•°æ®å¯¼å‡º API** (`GET /users/me/export`):
    *   å¯¼å‡ºç”¨æˆ·ä¿¡æ¯å’Œæ‰€æœ‰ todos
    *   è¿”å› JSON æ ¼å¼æ•°æ®

### 2. å‰ç«¯æ¶æ„æ–°å¢

#### ThemeContext (ä¸»é¢˜åˆ‡æ¢)
*   **æ–‡ä»¶**: `src/contexts/ThemeContext.tsx`
*   **åŠŸèƒ½**:
    *   æ”¯æŒ `light` / `dark` / `system` ä¸‰ç§æ¨¡å¼
    *   `resolvedTheme` è¿”å›å®é™…åº”ç”¨çš„ä¸»é¢˜
    *   ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–è‡ªåŠ¨åˆ‡æ¢
    *   æŒä¹…åŒ–åˆ° localStorage
    *   åº”ç”¨ `dark` class åˆ° `document.documentElement`

#### LanguageContext (è¯­è¨€åˆ‡æ¢)
*   **æ–‡ä»¶**: `src/contexts/LanguageContext.tsx`
*   **åŠŸèƒ½**:
    *   æ”¯æŒ `zh` / `en` åŒè¯­
    *   `t(key)` ç¿»è¯‘å‡½æ•°ï¼Œæ”¯æŒåµŒå¥— key
    *   è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€
    *   æŒä¹…åŒ–åˆ° localStorage

#### i18n ç¿»è¯‘æ–‡ä»¶
*   `src/i18n/zh.json` - ä¸­æ–‡ç¿»è¯‘
*   `src/i18n/en.json` - è‹±æ–‡ç¿»è¯‘
*   æ¶µç›–: commonã€tabsã€filterã€settingsã€themeã€language ç­‰æ¨¡å—

### 3. æ·±è‰²æ¨¡å¼æ ·å¼
*   **æ–‡ä»¶**: `src/index.css`
*   **å˜æ›´**: ä¸ºæ‰€æœ‰ glass-* ç»„ä»¶æ·»åŠ  dark å˜ä½“
    | ç»„ä»¶ | æ·±è‰²æ¨¡å¼æ ·å¼ |
    |------|-------------|
    | `.dark .glass-panel` | `bg-gray-800/70 border-gray-700/50` |
    | `.dark .glass-card` | `bg-gray-800/50 border-gray-700/40` |
    | `.dark .glass-nav` | `bg-gray-800/60 border-gray-700/50` |
    | `.dark .glass-modal` | `bg-gray-800/90 border-gray-700/60` |
    | `.dark .glass-input` | `bg-gray-700/40 border-gray-600/50` |
    | `.dark .glass-fab` | `bg-indigo-600/90 border-indigo-500/30` |
*   **èƒŒæ™¯æ¸å˜**: `linear-gradient(135deg, #0f0d1a ... #0f0d1a)`

### 4. Sidebar å†…ç½® Settings (æ ¸å¿ƒå˜æ›´)
*   **è®¾è®¡å†³ç­–**: Settings ä¸ä½œä¸ºç‹¬ç«‹é¡µé¢ï¼Œè€Œæ˜¯é›†æˆåœ¨ Sidebar å†…éƒ¨
*   **äº¤äº’æµç¨‹**:
    1. ç‚¹å‡»èœå•æŒ‰é’® â†’ æ‰“å¼€ Sidebarï¼ˆæ˜¾ç¤ºç­›é€‰èœå•ï¼‰
    2. ç‚¹å‡» Settings â†’ å†…å®¹å¹³æ»‘åˆ‡æ¢åˆ°è®¾ç½®é¡µé¢
    3. ç‚¹å‡»è¿”å›ç®­å¤´ â†’ è¿”å›èœå•è§†å›¾
    4. å…³é—­ Sidebar â†’ è‡ªåŠ¨é‡ç½®ä¸ºèœå•è§†å›¾

*   **å®ç°æ–¹å¼** (`Sidebar.tsx`):
    *   `view` çŠ¶æ€: `'menu' | 'settings'`
    *   ä¸¤ä¸ª `motion.div` åšå·¦å³æ»‘åŠ¨åŠ¨ç”»åˆ‡æ¢
    *   Spring åŠ¨ç”»: `stiffness: 300, damping: 30`

*   **Settings åŠŸèƒ½åˆ—è¡¨**:
    | åˆ†ç±» | åŠŸèƒ½ | è¯´æ˜ |
    |------|------|------|
    | è´¦æˆ· | å¤´åƒä¿®æ”¹ | Base64 ä¸Šä¼  |
    | è´¦æˆ· | æ˜µç§°ä¿®æ”¹ | å†…è”ç¼–è¾‘ |
    | è´¦æˆ· | é‚®ç®±æ˜¾ç¤º | åªè¯» |
    | è´¦æˆ· | å¯†ç ä¿®æ”¹ | Modal å¼¹çª— |
    | å¤–è§‚ | ä¸»é¢˜åˆ‡æ¢ | æµ…è‰²/æ·±è‰²/è·Ÿéšç³»ç»Ÿ |
    | å¤–è§‚ | è¯­è¨€åˆ‡æ¢ | ä¸­æ–‡/English |
    | æ•°æ® | å¯¼å‡ºæ•°æ® | ä¸‹è½½ JSON æ–‡ä»¶ |
    | å…³äº | ç‰ˆæœ¬ä¿¡æ¯ | v1.0.0 |

### 5. å…¶ä»–ç»„ä»¶é€‚é…
*   **BottomNav.tsx**: æ·»åŠ æ·±è‰²æ¨¡å¼æ ·å¼
*   **Dashboard.tsx**:
    *   Header æ·»åŠ æ·±è‰²æ¨¡å¼æ ·å¼
    *   i18n æ”¯æŒ (`getFilterTitle` ä½¿ç”¨ç¿»è¯‘)
    *   ä¼ é€’ `onUserUpdate` ç»™ Sidebar
*   **App.tsx**: åŒ…è£¹ `ThemeProvider` å’Œ `LanguageProvider`
*   **tailwind.config.js**: å¯ç”¨ `darkMode: 'class'`

---

## æ–‡ä»¶å˜æ›´æ±‡æ€» (Settings)

| æ–‡ä»¶ | å˜æ›´ç±»å‹ | è¯´æ˜ |
|------|----------|------|
| `backend/app/schemas/user.py` | æ–°å¢ | ChangePasswordRequest schema |
| `backend/app/api/routes/users.py` | ä¿®æ”¹ | æ–°å¢ 2 ä¸ª API ç«¯ç‚¹ |
| `src/contexts/ThemeContext.tsx` | æ–°å¢ | ä¸»é¢˜ç®¡ç† |
| `src/contexts/LanguageContext.tsx` | æ–°å¢ | è¯­è¨€ç®¡ç† |
| `src/i18n/zh.json` | æ–°å¢ | ä¸­æ–‡ç¿»è¯‘ |
| `src/i18n/en.json` | æ–°å¢ | è‹±æ–‡ç¿»è¯‘ |
| `src/components/Sidebar.tsx` | é‡å†™ | é›†æˆ Settings åŠŸèƒ½ |
| `src/components/BottomNav.tsx` | ä¿®æ”¹ | æ·±è‰²æ¨¡å¼ |
| `src/pages/Dashboard.tsx` | ä¿®æ”¹ | i18n + æ·±è‰²æ¨¡å¼ |
| `src/App.tsx` | ä¿®æ”¹ | åŒ…è£¹ Provider |
| `src/index.css` | ä¿®æ”¹ | æ·±è‰²æ¨¡å¼æ ·å¼ |
| `tailwind.config.js` | ä¿®æ”¹ | darkMode: 'class' |
| `src/components/SettingsView.tsx` | åˆ é™¤ | åŠŸèƒ½åˆå¹¶åˆ° Sidebar |

---

## Timeline Review åŠŸèƒ½ (æ—¶é—´çº¿å¤ç›˜)

### 1. åŠŸèƒ½æ¦‚è¿°
*   **Goal**: å®ç°ä¸€ä¸ª"æ—¶é—´çº¿å¤ç›˜"åŠŸèƒ½ï¼Œè®©ç”¨æˆ·å¯ä»¥å›é¡¾è‡ªå·±çš„ä»»åŠ¡æ“ä½œå†å²ï¼Œå¢å¼ºæˆå°±æ„Ÿå’Œè‡ªæˆ‘æ•ˆèƒ½ã€‚
*   **æ ¸å¿ƒç‰¹æ€§**:
    *   è®°å½•ç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡æ“ä½œï¼ˆåˆ›å»ºã€å®Œæˆã€æ›´æ–°ã€åˆ é™¤ï¼‰
    *   ä»¥æ—¶é—´çº¿å½¢å¼å±•ç¤ºæ´»åŠ¨å†å²
    *   ç‚¹å‡»æ—¶é—´çº¿æ¡ç›®å¯è·³è½¬åˆ°å¯¹åº”ä»»åŠ¡
    *   æ”¯æŒ Day Start / Day End ä»ªå¼æ„Ÿæ ‡è®°

### 2. åç«¯å®ç°

#### ActivityLog æ¨¡å‹
*   **æ–‡ä»¶**: `backend/app/models/activity_log.py`
*   **å­—æ®µ**:
    | å­—æ®µ | ç±»å‹ | è¯´æ˜ |
    |------|------|------|
    | `id` | Integer | ä¸»é”® |
    | `user_id` | Integer | ç”¨æˆ·å¤–é”® |
    | `todo_id` | Integer | ä»»åŠ¡å¤–é”®ï¼ˆå¯ç©ºï¼‰ |
    | `action_type` | String | æ“ä½œç±»å‹ |
    | `metadata_Snapshot` | JSON | æ“ä½œæ—¶çš„å¿«ç…§ä¿¡æ¯ |
    | `timestamp` | DateTime(tz) | æ“ä½œæ—¶é—´ï¼ˆå¸¦æ—¶åŒºï¼‰ |

*   **Action Types**: `CREATE`, `COMPLETE`, `UNCOMPLETE`, `UPDATE_CONTENT`, `DELETE`

#### Activity Logging é›†æˆ
*   **æ–‡ä»¶**: `backend/app/services/todo.py`
*   **é›†æˆç‚¹**:
    *   `create_user_todo()`: è®°å½• CREATE æ“ä½œ
    *   `update_todo()`: è®°å½• COMPLETE/UNCOMPLETE/UPDATE_CONTENT æ“ä½œ
    *   `delete_todo()`: è®°å½• DELETE æ“ä½œ
*   **Snapshot å†…å®¹**: ä¿å­˜æ“ä½œæ—¶çš„ä»»åŠ¡æ ‡é¢˜

#### API ç«¯ç‚¹
*   **æ–‡ä»¶**: `backend/app/api/routes/timeline.py`
*   **ç«¯ç‚¹**:
    | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
    |------|------|------|
    | GET | `/timeline/` | åˆ†é¡µè·å–æ´»åŠ¨å†å² |
    | GET | `/timeline/today` | è·å–ä»Šæ—¥æ´»åŠ¨ï¼ˆæ”¯æŒæ—¶åŒºåç§»ï¼‰ |

### 3. å‰ç«¯å®ç°

#### TimelineDrawer ç»„ä»¶
*   **æ–‡ä»¶**: `frontend/src/components/TimelineDrawer.tsx`
*   **äº¤äº’è®¾è®¡**:
    *   ä»å³ä¾§æ»‘å…¥çš„å…¨å±æŠ½å±‰
    *   å³ä¸Šè§’ Header æŒ‰é’®è§¦å‘ï¼ˆğŸ• å›¾æ ‡ï¼‰
    *   æŒ‰æ—¥æœŸåˆ†ç»„æ˜¾ç¤ºæ´»åŠ¨
    *   ç‚¹å‡»æ¡ç›®è·³è½¬åˆ°å¯¹åº”ä»»åŠ¡ç¼–è¾‘å™¨

*   **è§†è§‰è®¾è®¡**:
    | å…ƒç´  | å®ç° |
    |------|------|
    | Day Header | æ—¥æœŸ + æ¯æ—¥æ‘˜è¦ç»Ÿè®¡ |
    | Day Start | â˜€ï¸ å›ºå®šæ ‡è®°ï¼ˆæ— æ—¶é—´ï¼‰ |
    | æ´»åŠ¨åˆ—è¡¨ | å¯æ»šåŠ¨åŒºåŸŸï¼ŒæŒ‰æ—¶é—´å‡åºæ’åˆ— |
    | Day End | ğŸŒ™ å›ºå®šæ ‡è®°ï¼ˆæ— æ—¶é—´ï¼‰ |
    | åŠ¨ä½œå›¾æ ‡ | å½©è‰²èƒŒæ™¯åœ†åœˆåŒºåˆ†ç±»å‹ |
    | æ—¶é—´çº¿ | è™šçº¿è¿æ¥ |

*   **æ—¶åŒºå¤„ç†**:
    *   åç«¯å­˜å‚¨ UTC æ—¶é—´
    *   å‰ç«¯ä½¿ç”¨ `new Date()` è‡ªåŠ¨è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´
    *   æ—¥æœŸåˆ†ç»„åŸºäºæœ¬åœ°æ—¥æœŸ

#### Dashboard é›†æˆ
*   **æ–‡ä»¶**: `frontend/src/pages/Dashboard.tsx`
*   **å˜æ›´**:
    *   Mobile Header å³ä¾§æ·»åŠ  Timeline æŒ‰é’®
    *   Desktop Header å³ä¾§æ·»åŠ  "Timeline" æ–‡å­—æŒ‰é’®
    *   é›†æˆ `TimelineDrawer` ç»„ä»¶
    *   æ–°å¢ `isTimelineOpen` çŠ¶æ€

#### ä»£ç æ¸…ç†
*   ç§»é™¤äº†ç‹¬ç«‹çš„ `/timeline` è·¯ç”±
*   ç§»é™¤äº† Sidebar ä¸­çš„ Timeline å…¥å£ï¼ˆæ”¹ä¸º Header å…¥å£ï¼‰
*   åˆ é™¤äº† `TimelinePage.tsx` å’Œ `TimelineView.tsx`ï¼ˆåˆå¹¶åˆ° Drawerï¼‰

### 4. è®¾è®¡è¿­ä»£

#### å…¥å£ä½ç½®è¿­ä»£
| ç‰ˆæœ¬ | å…¥å£ä½ç½® | åŸå›  |
|------|----------|------|
| v1 | ç‹¬ç«‹é¡µé¢ `/timeline` | åˆå§‹å®ç° |
| v2 | Sidebar åº•éƒ¨æŒ‰é’® | å‡å°‘é¡µé¢è·³è½¬ |
| v3 | Header å³ä¸Šè§’ ğŸ• | å…¨å±€å¯è¾¾ï¼Œæ›´ç¬¦åˆ"é€šçŸ¥/å†å²"å¿ƒæ™ºæ¨¡å‹ |

#### UX ä¼˜åŒ–
*   Day Start/End æ”¹ä¸ºå›ºå®šæ ‡è®°ï¼ˆæ— åŠ¨æ€æ—¶é—´ï¼‰
*   æ—¶é—´çº¿é¡ºåºæ”¹ä¸º ä¸Šâ†’ä¸‹ = æœ€æ—©â†’æœ€æ–°
*   ä¸­é—´æ´»åŠ¨åˆ—è¡¨å¯æ»šåŠ¨ï¼ŒDay Start/End å›ºå®š
*   æ‰“å¼€æ—¶è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨æ˜¾ç¤ºæœ€æ–°æ´»åŠ¨

### 5. æœªæ¥è§„åˆ’
*   ğŸ“Š å®Œæˆç»Ÿè®¡ & çƒ­åŠ›å›¾
*   ğŸ§  AI æ™ºèƒ½å¤ç›˜ & ä»»åŠ¡å»ºè®®
*   ğŸ”” æ¯æ—¥/æ¯å‘¨è‡ªåŠ¨æé†’
*   è¡¨æƒ…æ ‡è®°ï¼ˆå®Œæˆä»»åŠ¡æ—¶é€‰æ‹©å¿ƒæƒ…ï¼‰

---

## æ–‡ä»¶å˜æ›´æ±‡æ€» (Timeline Review)

| æ–‡ä»¶ | å˜æ›´ç±»å‹ | è¯´æ˜ |
|------|----------|------|
| `backend/app/models/activity_log.py` | æ–°å¢ | ActivityLog æ¨¡å‹ |
| `backend/app/models/__init__.py` | ä¿®æ”¹ | å¯¼å‡º ActivityLog |
| `backend/app/services/todo.py` | ä¿®æ”¹ | é›†æˆæ´»åŠ¨æ—¥å¿—è®°å½• |
| `backend/app/schemas/timeline.py` | æ–°å¢ | ActivityLogOut schema |
| `backend/app/api/routes/timeline.py` | æ–°å¢ | Timeline API ç«¯ç‚¹ |
| `backend/app/api/api.py` | ä¿®æ”¹ | æ³¨å†Œ timeline router |
| `frontend/src/components/TimelineDrawer.tsx` | æ–°å¢ | Timeline æŠ½å±‰ç»„ä»¶ |
| `frontend/src/pages/Dashboard.tsx` | ä¿®æ”¹ | é›†æˆ Timeline å…¥å£å’ŒæŠ½å±‰ |
| `frontend/src/App.tsx` | ä¿®æ”¹ | ç§»é™¤ /timeline è·¯ç”± |
| `frontend/src/components/Sidebar.tsx` | ä¿®æ”¹ | ç§»é™¤ Timeline å…¥å£ |
| `frontend/src/types/timeline.ts` | æ–°å¢ | TypeScript ç±»å‹å®šä¹‰ |
| `frontend/src/pages/TimelinePage.tsx` | åˆ é™¤ | åŠŸèƒ½åˆå¹¶åˆ° Drawer |
| `frontend/src/components/TimelineView.tsx` | åˆ é™¤ | åŠŸèƒ½åˆå¹¶åˆ° Drawer |

